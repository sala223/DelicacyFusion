@import "common.less";
//@import "3d.less";

@nav-width:240px;
@shower-width:32px;
@nav-bgColor:#3B3E3E;
@header-height:80px;

#nav {
    .docked-left;
    width:@nav-width;
    color:white;
    z-index:2;
    .transform(1,0,0 - @nav-width,0,0,0);

    .header {
        height:@header-height;
    }

    .content {
        .docked-center;
        background-color:@nav-bgColor;
    }

    .group {
        border-top : 1px dotted gray;
        padding : (@shower-width - 12px) 0;
        margin : 0 @shower-width;

        .title {
            font-size:1.7em;
            letter-spacing:0.25em;
            padding-bottom:10px;
            font-weight:bold;
        }

        .item {
            display:block;
            font-size:1.5em;
            letter-spacing:0.08em;
            padding:5px 0;
            color:#999999;
            cursor:pointer;
            position:relative;
            .transition(100ms;linear);
        }
        
        .item:hover {
            color:white;
            background-color:#222;
            padding-left:0.7em;
            text-decoration:none;
        }
        
        .item.curr:after {
            content:'\e062';
            font-family:'Glyphicons Halflings';
            position:absolute;
            top:5px;
            padding-left:6px;
            color:white;
        }
    }
}

#nav-shower {
    .docked-left;
    width:@shower-width;
    font-size:1.8em;
    text-align:center;
    .transition(400ms);
    z-index:10;
    opacity:1;

    background-color:rgba(1,1,1,0.1);
    color:fade(@nav-bgColor,60%);
    text-shadow: 0px 2px 0px #ffffff;

    span {
        position : absolute;
        top:50%;
        left:6px;
    }
}

#nav,#panel {
    .transition(400ms);
}

#page.showmenu {

    #nav {
        .transform0;
    }

    #nav-shower {
        opacity:0;
    }
    
    #panel {
        .transform(1,0, @nav-width - @shower-width ,0,0,0);
    }
}

#panel {
    .docked-center();
    left:@shower-width;

    background-color:white;
    overflow:hidden;

    .tiletoolbar {
        .docked-top();
        height:@header-height;
        -webkit-box-shadow:  0px 1px 10px 0px rgba(0, 0, 0, 0.1);
        box-shadow:  0px 1px 10px 0px rgba(0, 0, 0, 0.1);

        .tool {
            position:relative;
            width:120px;
            height:@header-height;
            line-height:@header-height;
            text-align:center;
            font-size:1.4em;
            float:left;
            .user-select-none();

            span:first-child {
                margin-right:5px;
            }
        }

        .tool:after {
            content:'';
            .docked-center(20px);
            right:0;
            border-right:1px solid #EEE;
        }
        .tool:last-child:after {
            //border-right:0 none;
        }
    }

    .tilecontainer {
        @tile-spacing:6px;

        .docked-center();
        top:@header-height;

        overflow-y:auto;
        padding-left:@tile-spacing * 2;

        .tile {
            float:left;
            position:relative;
            width:180px + @tile-spacing * 2;
            height:120px + @tile-spacing * 2;

            > div {
                .docked-center(@tile-spacing);
                cursor:pointer;
                .transition(0.2s;linear);
            }
            
            > div:before {
                .docked-center();
                content:'';
                display:block;
                opacity:0.1;
            }
            
            > div:hover {
                -webkit-box-shadow:  0px 0px 8px 2px rgba(0, 0, 0, 0.3);
                box-shadow:  0px 0px 8px 2px rgba(0, 0, 0, 0.3);
            }

            .text {
                .docked-bottom;
                background-color:rgba(0,0,0,0.4);
                color:white;
                text-align:center;
                font-size:1.3em;
                line-height:1em;
                padding:4px;
                overflow-x:hidden;
                text-overflow:ellipsis;
                letter-spacing:1px;
            }
        }
    }
    
    .tilecontainer.min {
        overflow:hidden;
    }
}

#edit {
    .transform(1,0,100%,0,0,0);
    .transition(400ms);
    
    .docked-right(6px);
    right:0;

    width:600px;
    box-shadow:0 0px 8px 0px rgba(0, 0, 0, 0.4);
    -webkit-box-shadow:0 0px 8px 0px rgba(0, 0, 0, 0.4);
    background-color:white;
    border-radius:10px 0 0 10px;

    input[data-constraint=integer] {
        ime-mode: disabled;
        -webkit-ime-mode: disabled;
        -ms-ime-mode: disabled;
    }

    > div:not(.loadmask) {
        .docked-center(20px);
    }

    .btn-group button {
        min-width:100px;
    }
}


.form-group {
    label,.dropdown-link {
        font-size:1.4em;
    }

    textarea {
        resize:none;
    }
}

table .rowspacing {
    padding:0;
    height:10px;
}


.image-dropper {

    position:relative;
    @DefaultColor:#CCC;
    color:@DefaultColor;
    text-align:center;
    font-size:2.5em;

    >.glyphicon {
        display:inline;
        line-height:76px;
    }

    >div {
        .docked-center();
        border:4px dashed @DefaultColor;
        border-radius:10px;
        overflow:hidden;
        background-color:transparent;

        .ab {
            .docked-bottom();
            bottom:2px;
            height:27px;
            line-height:27px;
            font-size:26px;

            .transform(1,0,0,32px,0,0);
            .transition(400ms);
        }

        .glyphicon {
            cursor:pointer;
        }

        @okColor:#5CB85C;
        .glyphicon-ok {
            color:@okColor;
        }
    
        .glyphicon-ok:hover {
            color: darken(@okColor,10%);
        }
    
        @cancelColor:#D9534F;
        .glyphicon-remove {
            color:@cancelColor;
        }
        .glyphicon-remove:hover {
            color: darken(@cancelColor,10%);
        }
    }
}

.image-dropper.dragover {
    @OverColor:#777;
    color:@OverColor;

    >div {
        border-color:@OverColor;
    }
}

.image-dropper.dropped {
    >.glyphicon {
        display:none;
    }

    >div {
        background-color:rgba(255,255,255,0.7);

        .ab {
            .transform0();
        }
    }
}